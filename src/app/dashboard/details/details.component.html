<section id="details">
  <div>
    <div class="outer-div d-flex flex-column justify-content-end align-items-end">
      <div class="position-relative logo-container">
        <img src="assets/c.jpeg" />
      </div>
      <img src="assets/banner.jpeg" />
    </div>

    <div class="d-flex justify-content-center">
      <button (click)="test = test + 10">Plus</button>
      <button (click)="test = test - 10">Minus</button>
      <span>Width {{ formWidth }}</span>
    </div>

    <form class="container-fluid py-5" [formGroup]="detailsForm" (ngSubmit)="onSubmit()" ngNativeValidate
    [style.maxWidth]="formWidth">
      <div class="d-flex flex-column justify-content-center align-items-center mb-3">
        <h4 class="m-0 text-primary">
          {{ "labels.restaurantName" | translate }}
        </h4>
        <div class="my-2" *ngIf="!editMode; else nameEdit">
          <h4 class="mb-1" *ngIf="detailsForm.controls['nameUnique'].value; else noName">
            {{ detailsForm.controls['nameUnique'].value }}
          </h4>
          <ng-template #noName>
            <h4 class="text-muted"><i>-</i></h4>
          </ng-template>
        </div>

        <ng-template #nameEdit>
          <input
            matInput
            formControlName="nameUnique"
            class="m-0 my-2 text-center name-input"
            [placeholder]="translate.instant('placeholders.enterRestaurantName')"/>
        </ng-template>

        <p class="m-0 text-muted cursor-pointer" (click)="enableEditMode()" *ngIf="!editMode; else editBtn">
          <span><i class="far fa-edit mr-2"></i></span>
          <span>
            {{ "labels.editDetails" | translate }}
          </span>
        </p>
        <ng-template #editBtn>
          <button class="btn btn-primary done-btn" type="submit">
            {{ "labels.done" | translate }}
          </button>
        </ng-template>
      </div>

      <div class="form-group">
        <mat-label>
          {{ "labels.description" | translate }}
        </mat-label>

        <mat-form-field appearance="outline" class="w-100 mat-field-no-margin input-no-label" color="primary">
          <input matInput formControlName="restDesc"/>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-label>
          {{ "labels.location" | translate }}
        </mat-label>

        <mat-form-field appearance="outline" class="w-100 mat-field-no-margin input-no-label" color="primary">
          <input matInput disabled [value]="getLocationValue()"/>
          <i *ngIf="editMode" class="fas fa-location-arrow cursor-pointer text-primary" matSuffix (click)="setPosition()"></i>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-label>
          {{ "labels.restaurantPhone" | translate }}
        </mat-label>

        <mat-form-field appearance="outline" class="w-100 mat-field-no-margin input-no-label" color="primary">
          <input matInput formControlName="restPhoneNumber"/>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-label>
          {{ "labels.contactName" | translate }}
        </mat-label>

        <mat-form-field appearance="outline" class="w-100 mat-field-no-margin input-no-label" color="primary">
          <input matInput formControlName="contactName"/>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-label>
          {{ "labels.contactNumber" | translate }}
        </mat-label>

        <mat-form-field appearance="outline" class="w-100 mat-field-no-margin input-no-label" color="primary">
          <input matInput formControlName="contactNumber"/>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-label>
          {{ "labels.preparingTime" | translate }}
        </mat-label>

        <mat-form-field appearance="outline" class="w-100 mat-field-no-margin input-no-label" color="primary">
          <input matInput formControlName="preparingTime"/>
        </mat-form-field>
      </div>

      <div class="heading-with-line d-flex align-items-end">
        <h4 class="m-0 text-primary">
          {{ "labels.openHours" | translate }}
        </h4>
        <div class="flex-fill ml-3"></div>
      </div>

      <div class="form-group" formArrayName="openHours" *ngFor="let control of getDayControls(); let i = index;">
        <div [formGroupName]="i">
          <mat-label>
            {{ getLabelForDay(i) | translate }}
          </mat-label>

          <div class="d-flex align-items-center">
            <div class="d-flex flex-fill align-items-center">
              <mat-form-field appearance="outline" class="w-100 mat-field-no-margin input-no-label" color="primary">
                <input matInput type="time" formControlName="from"/>
              </mat-form-field>

              <div class="mx-2">
                â€”
              </div>

              <mat-form-field appearance="outline" class="w-100 mat-field-no-margin input-no-label" color="primary">
                <input matInput type="time" formControlName="to"/>
              </mat-form-field>
            </div>

            <div class="checkbox-container ml-2" [class.opacity-p6]="!editMode">
              <input
                type="checkbox"
                [id]="i"
                formControlName="active"
                (ngModelChange)="switchOffHours($event, i)"/>
              <label [for]="i"><span></span></label>
            </div>
          </div>
        </div>
      </div>
    </form>
</div>
</section>